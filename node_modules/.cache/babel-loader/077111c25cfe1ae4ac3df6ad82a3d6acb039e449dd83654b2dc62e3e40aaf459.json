{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Downloads\\\\SmartInventory-master\\\\SmartInventory-master\\\\src\\\\components\\\\BillModal.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { X, Plus, Trash2, User, Calendar, DollarSign, Package } from 'lucide-react';\nimport './BillModal.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction BillModal({\n  bill,\n  products,\n  isCreating,\n  onSave,\n  onClose\n}) {\n  _s();\n  const [formData, setFormData] = useState({\n    customerName: '',\n    items: [],\n    totalAmount: 0,\n    date: new Date().toISOString().split('T')[0] // Set current date by default\n  });\n  const [selectedProduct, setSelectedProduct] = useState('');\n  const [quantity, setQuantity] = useState(1);\n  const [customPrice, setCustomPrice] = useState('');\n  const [useCustomPrice, setUseCustomPrice] = useState(false);\n  const [productSearch, setProductSearch] = useState('');\n  const [showProductDropdown, setShowProductDropdown] = useState(false);\n  const dropdownRef = useRef(null);\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    const handleClickOutside = event => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n        setShowProductDropdown(false);\n      }\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, []);\n  useEffect(() => {\n    if (bill && !isCreating) {\n      setFormData({\n        ...bill,\n        items: bill.items.map(item => ({\n          ...item\n        }))\n      });\n    } else {\n      setFormData({\n        customerName: '',\n        items: [],\n        totalAmount: 0,\n        date: new Date().toISOString().split('T')[0] // Always set current date for new bills\n      });\n    }\n  }, [bill, isCreating]);\n  useEffect(() => {\n    // Recalculate total whenever items change\n    const total = formData.items.reduce((sum, item) => {\n      return sum + item.quantity * item.finalPrice;\n    }, 0);\n    setFormData(prev => ({\n      ...prev,\n      totalAmount: total\n    }));\n  }, [formData.items]);\n  const handleAddItem = () => {\n    if (!selectedProduct || quantity <= 0) {\n      alert('Please select a product and enter a valid quantity');\n      return;\n    }\n    const product = products.find(p => p.id === selectedProduct);\n    if (!product) {\n      alert('Product not found');\n      return;\n    }\n    if (product.stock < quantity) {\n      alert(`Insufficient stock. Available: ${product.stock}`);\n      return;\n    }\n    const finalPrice = useCustomPrice && customPrice ? parseFloat(customPrice) : product.sellingPrice;\n    const newItem = {\n      productId: product.id,\n      productName: product.name,\n      quantity: parseInt(quantity),\n      defaultPrice: product.sellingPrice,\n      finalPrice: finalPrice\n    };\n\n    // Check if item already exists\n    const existingItemIndex = formData.items.findIndex(item => item.productId === product.id);\n    if (existingItemIndex >= 0) {\n      // Update existing item\n      const updatedItems = [...formData.items];\n      updatedItems[existingItemIndex].quantity += parseInt(quantity);\n      setFormData(prev => ({\n        ...prev,\n        items: updatedItems\n      }));\n    } else {\n      // Add new item\n      setFormData(prev => ({\n        ...prev,\n        items: [...prev.items, newItem]\n      }));\n    }\n\n    // Reset form\n    setSelectedProduct('');\n    setQuantity(1);\n    setCustomPrice('');\n    setUseCustomPrice(false);\n    setProductSearch('');\n    setShowProductDropdown(false);\n  };\n  const handleRemoveItem = index => {\n    const updatedItems = formData.items.filter((_, i) => i !== index);\n    setFormData(prev => ({\n      ...prev,\n      items: updatedItems\n    }));\n  };\n  const handleUpdateItemPrice = (index, newPrice) => {\n    const updatedItems = [...formData.items];\n    updatedItems[index].finalPrice = parseFloat(newPrice) || 0;\n    setFormData(prev => ({\n      ...prev,\n      items: updatedItems\n    }));\n  };\n  const handleUpdateItemQuantity = (index, newQuantity) => {\n    const item = formData.items[index];\n    const product = products.find(p => p.id === item.productId);\n    if (product && !isCreating && bill) {\n      // For bill updates, check available stock (current + original quantity)\n      const originalItem = bill.items.find(i => i.productId === item.productId);\n      const availableStock = originalItem ? product.stock + originalItem.quantity : product.stock;\n      if (parseInt(newQuantity) > availableStock) {\n        alert(`Insufficient stock. Available: ${availableStock}`);\n        return;\n      }\n    } else if (product && isCreating) {\n      // For new bills, check current stock\n      if (parseInt(newQuantity) > product.stock) {\n        alert(`Insufficient stock. Available: ${product.stock}`);\n        return;\n      }\n    }\n    const updatedItems = [...formData.items];\n    updatedItems[index].quantity = parseInt(newQuantity) || 0;\n    setFormData(prev => ({\n      ...prev,\n      items: updatedItems\n    }));\n  };\n  const handleSave = () => {\n    if (!formData.customerName.trim()) {\n      alert('Please enter customer name');\n      return;\n    }\n    if (!formData.date) {\n      alert('Please select a bill date');\n      return;\n    }\n    if (formData.items.length === 0) {\n      alert('Please add at least one item');\n      return;\n    }\n\n    // Validate stock availability for bill updates\n    if (!isCreating && bill) {\n      for (const item of formData.items) {\n        const product = products.find(p => p.id === item.productId);\n        const originalItem = bill.items.find(i => i.productId === item.productId);\n        if (product && originalItem) {\n          // Calculate available stock (current stock + original quantity)\n          const availableStock = product.stock + originalItem.quantity;\n          if (item.quantity > availableStock) {\n            alert(`Insufficient stock for ${item.productName}. Available: ${availableStock}, Required: ${item.quantity}`);\n            return;\n          }\n        } else if (product && !originalItem) {\n          // New item added to existing bill\n          if (item.quantity > product.stock) {\n            alert(`Insufficient stock for ${item.productName}. Available: ${product.stock}, Required: ${item.quantity}`);\n            return;\n          }\n        }\n      }\n    }\n    onSave(formData);\n  };\n  const availableProducts = products.filter(product => product.stock > 0);\n\n  // Filter products based on search\n  const filteredProducts = availableProducts.filter(product => product.name.toLowerCase().includes(productSearch.toLowerCase()) || product.id.toLowerCase().includes(productSearch.toLowerCase()) || product.category.toLowerCase().includes(productSearch.toLowerCase()));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal-overlay\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-content bill-modal\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: isCreating ? 'Create New Bill' : `Edit Bill ${bill === null || bill === void 0 ? void 0 : bill.id}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"modal-close\",\n          children: /*#__PURE__*/_jsxDEV(X, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Bill Information\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label\",\n                children: [/*#__PURE__*/_jsxDEV(User, {\n                  className: \"label-icon\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 19\n                }, this), \"Customer Name *\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: formData.customerName,\n                onChange: e => setFormData(prev => ({\n                  ...prev,\n                  customerName: e.target.value\n                })),\n                className: \"form-input\",\n                placeholder: \"Enter customer name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label\",\n                children: [/*#__PURE__*/_jsxDEV(Calendar, {\n                  className: \"label-icon\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 230,\n                  columnNumber: 19\n                }, this), \"Bill Date *\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: formData.date,\n                onChange: e => setFormData(prev => ({\n                  ...prev,\n                  date: e.target.value\n                })),\n                className: \"form-input\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Add Items\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"add-item-form\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label\",\n                  children: \"Product\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 249,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"searchable-select\",\n                  ref: dropdownRef,\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    value: productSearch,\n                    onChange: e => {\n                      setProductSearch(e.target.value);\n                      setShowProductDropdown(true);\n                      setSelectedProduct('');\n                    },\n                    onFocus: () => setShowProductDropdown(true),\n                    className: \"form-input\",\n                    placeholder: \"Search products by name, ID, or category...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 251,\n                    columnNumber: 21\n                  }, this), showProductDropdown && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"dropdown-menu\",\n                    children: [filteredProducts.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"dropdown-item no-results\",\n                      children: \"No products found\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 266,\n                      columnNumber: 27\n                    }, this) : filteredProducts.slice(0, 10).map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"dropdown-item\",\n                      onClick: () => {\n                        setSelectedProduct(product.id);\n                        setProductSearch(`${product.name} (${product.id})`);\n                        setShowProductDropdown(false);\n                      },\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"product-option\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"product-main\",\n                          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"product-name\",\n                            children: product.name\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 282,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"product-id\",\n                            children: [\"(\", product.id, \")\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 283,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 281,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"product-details\",\n                          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"product-category\",\n                            children: product.category\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 286,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"product-stock\",\n                            children: [\"Stock: \", product.stock]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 287,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"product-price\",\n                            children: [\"\\u20B9\", product.sellingPrice]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 288,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 285,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 280,\n                        columnNumber: 31\n                      }, this)\n                    }, product.id, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 271,\n                      columnNumber: 29\n                    }, this)), filteredProducts.length > 10 && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"dropdown-item more-results\",\n                      children: [filteredProducts.length - 10, \" more products... (refine search)\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 295,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 264,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 250,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label\",\n                  children: \"Quantity\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 305,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  value: quantity,\n                  onChange: e => setQuantity(e.target.value),\n                  className: \"form-input\",\n                  min: \"1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 306,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"custom-price-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"checkbox-label\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: useCustomPrice,\n                  onChange: e => setUseCustomPrice(e.target.checked)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 318,\n                  columnNumber: 19\n                }, this), \"Use Custom Price\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 17\n              }, this), useCustomPrice && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label\",\n                  children: \"Custom Price\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 328,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  value: customPrice,\n                  onChange: e => setCustomPrice(e.target.value),\n                  className: \"form-input\",\n                  placeholder: \"0.00\",\n                  step: \"0.01\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 329,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleAddItem,\n              className: \"btn btn-primary add-item-btn\",\n              children: [/*#__PURE__*/_jsxDEV(Plus, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 17\n              }, this), \"Add Item\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Bill Items\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 13\n          }, this), formData.items.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"no-items\",\n            children: [/*#__PURE__*/_jsxDEV(Package, {\n              className: \"no-items-icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"No items added yet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 354,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"items-table-container\",\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"items-table\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Product\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 361,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Quantity\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 362,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Default Price\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 363,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Final Price\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 364,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Subtotal\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 365,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Actions\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 366,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 360,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 359,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: formData.items.map((item, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: item.productName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 372,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"number\",\n                      value: item.quantity,\n                      onChange: e => handleUpdateItemQuantity(index, e.target.value),\n                      className: \"quantity-input\",\n                      min: \"1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 374,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 373,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: [\"\\u20B9\", item.defaultPrice.toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 382,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"number\",\n                      value: item.finalPrice,\n                      onChange: e => handleUpdateItemPrice(index, e.target.value),\n                      className: \"price-input\",\n                      step: \"0.01\",\n                      min: \"0\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 384,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 383,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"subtotal\",\n                    children: [\"\\u20B9\", (item.quantity * item.finalPrice).toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 393,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => handleRemoveItem(index),\n                      className: \"btn-icon btn-delete\",\n                      title: \"Remove Item\",\n                      children: /*#__PURE__*/_jsxDEV(Trash2, {\n                        size: 16\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 402,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 397,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 396,\n                    columnNumber: 25\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 371,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 369,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bill-total\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"total-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"total-label\",\n              children: \"Total Amount:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"total-amount\",\n              children: [\"\\u20B9\", formData.totalAmount.toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-footer\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"btn btn-secondary\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSave,\n          className: \"btn btn-primary\",\n          children: isCreating ? 'Create Bill' : 'Update Bill'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 422,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 200,\n    columnNumber: 5\n  }, this);\n}\n_s(BillModal, \"yJNSHMt6CB4kl9d1qRMVm27Nl50=\");\n_c = BillModal;\nexport default BillModal;\nvar _c;\n$RefreshReg$(_c, \"BillModal\");","map":{"version":3,"names":["React","useState","useEffect","useRef","X","Plus","Trash2","User","Calendar","DollarSign","Package","jsxDEV","_jsxDEV","BillModal","bill","products","isCreating","onSave","onClose","_s","formData","setFormData","customerName","items","totalAmount","date","Date","toISOString","split","selectedProduct","setSelectedProduct","quantity","setQuantity","customPrice","setCustomPrice","useCustomPrice","setUseCustomPrice","productSearch","setProductSearch","showProductDropdown","setShowProductDropdown","dropdownRef","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","map","item","total","reduce","sum","finalPrice","prev","handleAddItem","alert","product","find","p","id","stock","parseFloat","sellingPrice","newItem","productId","productName","name","parseInt","defaultPrice","existingItemIndex","findIndex","updatedItems","handleRemoveItem","index","filter","_","i","handleUpdateItemPrice","newPrice","handleUpdateItemQuantity","newQuantity","originalItem","availableStock","handleSave","trim","length","availableProducts","filteredProducts","toLowerCase","includes","category","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","size","type","value","onChange","e","placeholder","ref","onFocus","slice","min","checked","step","toFixed","title","_c","$RefreshReg$"],"sources":["C:/Users/DELL/Downloads/SmartInventory-master/SmartInventory-master/src/components/BillModal.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { X, Plus, Trash2, User, Calendar, DollarSign, Package } from 'lucide-react';\nimport './BillModal.css';\n\nfunction BillModal({ bill, products, isCreating, onSave, onClose }) {\n  const [formData, setFormData] = useState({\n    customerName: '',\n    items: [],\n    totalAmount: 0,\n    date: new Date().toISOString().split('T')[0] // Set current date by default\n  });\n  const [selectedProduct, setSelectedProduct] = useState('');\n  const [quantity, setQuantity] = useState(1);\n  const [customPrice, setCustomPrice] = useState('');\n  const [useCustomPrice, setUseCustomPrice] = useState(false);\n  const [productSearch, setProductSearch] = useState('');\n  const [showProductDropdown, setShowProductDropdown] = useState(false);\n  const dropdownRef = useRef(null);\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n        setShowProductDropdown(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, []);\n\n  useEffect(() => {\n    if (bill && !isCreating) {\n      setFormData({\n        ...bill,\n        items: bill.items.map(item => ({ ...item }))\n      });\n    } else {\n      setFormData({\n        customerName: '',\n        items: [],\n        totalAmount: 0,\n        date: new Date().toISOString().split('T')[0] // Always set current date for new bills\n      });\n    }\n  }, [bill, isCreating]);\n\n  useEffect(() => {\n    // Recalculate total whenever items change\n    const total = formData.items.reduce((sum, item) => {\n      return sum + (item.quantity * item.finalPrice);\n    }, 0);\n    setFormData(prev => ({ ...prev, totalAmount: total }));\n  }, [formData.items]);\n\n  const handleAddItem = () => {\n    if (!selectedProduct || quantity <= 0) {\n      alert('Please select a product and enter a valid quantity');\n      return;\n    }\n\n    const product = products.find(p => p.id === selectedProduct);\n    if (!product) {\n      alert('Product not found');\n      return;\n    }\n\n    if (product.stock < quantity) {\n      alert(`Insufficient stock. Available: ${product.stock}`);\n      return;\n    }\n\n    const finalPrice = useCustomPrice && customPrice ? parseFloat(customPrice) : product.sellingPrice;\n    \n    const newItem = {\n      productId: product.id,\n      productName: product.name,\n      quantity: parseInt(quantity),\n      defaultPrice: product.sellingPrice,\n      finalPrice: finalPrice\n    };\n\n    // Check if item already exists\n    const existingItemIndex = formData.items.findIndex(item => item.productId === product.id);\n    \n    if (existingItemIndex >= 0) {\n      // Update existing item\n      const updatedItems = [...formData.items];\n      updatedItems[existingItemIndex].quantity += parseInt(quantity);\n      setFormData(prev => ({ ...prev, items: updatedItems }));\n    } else {\n      // Add new item\n      setFormData(prev => ({\n        ...prev,\n        items: [...prev.items, newItem]\n      }));\n    }\n\n    // Reset form\n    setSelectedProduct('');\n    setQuantity(1);\n    setCustomPrice('');\n    setUseCustomPrice(false);\n    setProductSearch('');\n    setShowProductDropdown(false);\n  };\n\n  const handleRemoveItem = (index) => {\n    const updatedItems = formData.items.filter((_, i) => i !== index);\n    setFormData(prev => ({ ...prev, items: updatedItems }));\n  };\n\n  const handleUpdateItemPrice = (index, newPrice) => {\n    const updatedItems = [...formData.items];\n    updatedItems[index].finalPrice = parseFloat(newPrice) || 0;\n    setFormData(prev => ({ ...prev, items: updatedItems }));\n  };\n\n  const handleUpdateItemQuantity = (index, newQuantity) => {\n    const item = formData.items[index];\n    const product = products.find(p => p.id === item.productId);\n    \n    if (product && !isCreating && bill) {\n      // For bill updates, check available stock (current + original quantity)\n      const originalItem = bill.items.find(i => i.productId === item.productId);\n      const availableStock = originalItem ? product.stock + originalItem.quantity : product.stock;\n      \n      if (parseInt(newQuantity) > availableStock) {\n        alert(`Insufficient stock. Available: ${availableStock}`);\n        return;\n      }\n    } else if (product && isCreating) {\n      // For new bills, check current stock\n      if (parseInt(newQuantity) > product.stock) {\n        alert(`Insufficient stock. Available: ${product.stock}`);\n        return;\n      }\n    }\n    \n    const updatedItems = [...formData.items];\n    updatedItems[index].quantity = parseInt(newQuantity) || 0;\n    setFormData(prev => ({ ...prev, items: updatedItems }));\n  };\n\n  const handleSave = () => {\n    if (!formData.customerName.trim()) {\n      alert('Please enter customer name');\n      return;\n    }\n\n    if (!formData.date) {\n      alert('Please select a bill date');\n      return;\n    }\n\n    if (formData.items.length === 0) {\n      alert('Please add at least one item');\n      return;\n    }\n\n    // Validate stock availability for bill updates\n    if (!isCreating && bill) {\n      for (const item of formData.items) {\n        const product = products.find(p => p.id === item.productId);\n        const originalItem = bill.items.find(i => i.productId === item.productId);\n        \n        if (product && originalItem) {\n          // Calculate available stock (current stock + original quantity)\n          const availableStock = product.stock + originalItem.quantity;\n          \n          if (item.quantity > availableStock) {\n            alert(`Insufficient stock for ${item.productName}. Available: ${availableStock}, Required: ${item.quantity}`);\n            return;\n          }\n        } else if (product && !originalItem) {\n          // New item added to existing bill\n          if (item.quantity > product.stock) {\n            alert(`Insufficient stock for ${item.productName}. Available: ${product.stock}, Required: ${item.quantity}`);\n            return;\n          }\n        }\n      }\n    }\n\n    onSave(formData);\n  };\n\n  const availableProducts = products.filter(product => product.stock > 0);\n  \n  // Filter products based on search\n  const filteredProducts = availableProducts.filter(product =>\n    product.name.toLowerCase().includes(productSearch.toLowerCase()) ||\n    product.id.toLowerCase().includes(productSearch.toLowerCase()) ||\n    product.category.toLowerCase().includes(productSearch.toLowerCase())\n  );\n\n  return (\n    <div className=\"modal-overlay\">\n      <div className=\"modal-content bill-modal\">\n        <div className=\"modal-header\">\n          <h2>{isCreating ? 'Create New Bill' : `Edit Bill ${bill?.id}`}</h2>\n          <button onClick={onClose} className=\"modal-close\">\n            <X size={20} />\n          </button>\n        </div>\n\n        <div className=\"modal-body\">\n          {/* Customer Information */}\n          <div className=\"form-section\">\n            <h3>Bill Information</h3>\n            <div className=\"form-row\">\n              <div className=\"form-group\">\n                <label className=\"form-label\">\n                  <User className=\"label-icon\" />\n                  Customer Name *\n                </label>\n                <input\n                  type=\"text\"\n                  value={formData.customerName}\n                  onChange={(e) => setFormData(prev => ({ ...prev, customerName: e.target.value }))}\n                  className=\"form-input\"\n                  placeholder=\"Enter customer name\"\n                />\n              </div>\n              \n              <div className=\"form-group\">\n                <label className=\"form-label\">\n                  <Calendar className=\"label-icon\" />\n                  Bill Date *\n                </label>\n                <input\n                  type=\"date\"\n                  value={formData.date}\n                  onChange={(e) => setFormData(prev => ({ ...prev, date: e.target.value }))}\n                  className=\"form-input\"\n                />\n              </div>\n            </div>\n          </div>\n\n          {/* Add Items */}\n          <div className=\"form-section\">\n            <h3>Add Items</h3>\n            <div className=\"add-item-form\">\n              <div className=\"form-row\">\n                <div className=\"form-group\">\n                  <label className=\"form-label\">Product</label>\n                  <div className=\"searchable-select\" ref={dropdownRef}>\n                    <input\n                      type=\"text\"\n                      value={productSearch}\n                      onChange={(e) => {\n                        setProductSearch(e.target.value);\n                        setShowProductDropdown(true);\n                        setSelectedProduct('');\n                      }}\n                      onFocus={() => setShowProductDropdown(true)}\n                      className=\"form-input\"\n                      placeholder=\"Search products by name, ID, or category...\"\n                    />\n                    {showProductDropdown && (\n                      <div className=\"dropdown-menu\">\n                        {filteredProducts.length === 0 ? (\n                          <div className=\"dropdown-item no-results\">\n                            No products found\n                          </div>\n                        ) : (\n                          filteredProducts.slice(0, 10).map(product => (\n                            <div\n                              key={product.id}\n                              className=\"dropdown-item\"\n                              onClick={() => {\n                                setSelectedProduct(product.id);\n                                setProductSearch(`${product.name} (${product.id})`);\n                                setShowProductDropdown(false);\n                              }}\n                            >\n                              <div className=\"product-option\">\n                                <div className=\"product-main\">\n                                  <span className=\"product-name\">{product.name}</span>\n                                  <span className=\"product-id\">({product.id})</span>\n                                </div>\n                                <div className=\"product-details\">\n                                  <span className=\"product-category\">{product.category}</span>\n                                  <span className=\"product-stock\">Stock: {product.stock}</span>\n                                  <span className=\"product-price\">₹{product.sellingPrice}</span>\n                                </div>\n                              </div>\n                            </div>\n                          ))\n                        )}\n                        {filteredProducts.length > 10 && (\n                          <div className=\"dropdown-item more-results\">\n                            {filteredProducts.length - 10} more products... (refine search)\n                          </div>\n                        )}\n                      </div>\n                    )}\n                  </div>\n                </div>\n\n                <div className=\"form-group\">\n                  <label className=\"form-label\">Quantity</label>\n                  <input\n                    type=\"number\"\n                    value={quantity}\n                    onChange={(e) => setQuantity(e.target.value)}\n                    className=\"form-input\"\n                    min=\"1\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"custom-price-section\">\n                <label className=\"checkbox-label\">\n                  <input\n                    type=\"checkbox\"\n                    checked={useCustomPrice}\n                    onChange={(e) => setUseCustomPrice(e.target.checked)}\n                  />\n                  Use Custom Price\n                </label>\n                \n                {useCustomPrice && (\n                  <div className=\"form-group\">\n                    <label className=\"form-label\">Custom Price</label>\n                    <input\n                      type=\"number\"\n                      value={customPrice}\n                      onChange={(e) => setCustomPrice(e.target.value)}\n                      className=\"form-input\"\n                      placeholder=\"0.00\"\n                      step=\"0.01\"\n                    />\n                  </div>\n                )}\n              </div>\n\n              <button onClick={handleAddItem} className=\"btn btn-primary add-item-btn\">\n                <Plus size={16} />\n                Add Item\n              </button>\n            </div>\n          </div>\n\n          {/* Bill Items */}\n          <div className=\"form-section\">\n            <h3>Bill Items</h3>\n            {formData.items.length === 0 ? (\n              <div className=\"no-items\">\n                <Package className=\"no-items-icon\" />\n                <p>No items added yet</p>\n              </div>\n            ) : (\n              <div className=\"items-table-container\">\n                <table className=\"items-table\">\n                  <thead>\n                    <tr>\n                      <th>Product</th>\n                      <th>Quantity</th>\n                      <th>Default Price</th>\n                      <th>Final Price</th>\n                      <th>Subtotal</th>\n                      <th>Actions</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {formData.items.map((item, index) => (\n                      <tr key={index}>\n                        <td>{item.productName}</td>\n                        <td>\n                          <input\n                            type=\"number\"\n                            value={item.quantity}\n                            onChange={(e) => handleUpdateItemQuantity(index, e.target.value)}\n                            className=\"quantity-input\"\n                            min=\"1\"\n                          />\n                        </td>\n                        <td>₹{item.defaultPrice.toFixed(2)}</td>\n                        <td>\n                          <input\n                            type=\"number\"\n                            value={item.finalPrice}\n                            onChange={(e) => handleUpdateItemPrice(index, e.target.value)}\n                            className=\"price-input\"\n                            step=\"0.01\"\n                            min=\"0\"\n                          />\n                        </td>\n                        <td className=\"subtotal\">\n                          ₹{(item.quantity * item.finalPrice).toFixed(2)}\n                        </td>\n                        <td>\n                          <button\n                            onClick={() => handleRemoveItem(index)}\n                            className=\"btn-icon btn-delete\"\n                            title=\"Remove Item\"\n                          >\n                            <Trash2 size={16} />\n                          </button>\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            )}\n          </div>\n\n          {/* Total */}\n          <div className=\"bill-total\">\n            <div className=\"total-row\">\n              <span className=\"total-label\">Total Amount:</span>\n              <span className=\"total-amount\">₹{formData.totalAmount.toFixed(2)}</span>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"modal-footer\">\n          <button onClick={onClose} className=\"btn btn-secondary\">\n            Cancel\n          </button>\n          <button onClick={handleSave} className=\"btn btn-primary\">\n            {isCreating ? 'Create Bill' : 'Update Bill'}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default BillModal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}